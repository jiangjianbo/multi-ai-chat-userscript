# 研究工作设计说明

## 概述

* 本文的描述内容必须遵循基础规则 [GEMINI.MD](../GEMINI.MD) 的约束。
* 本文的内容描述与其他设计弱相关，除非明确指定要处理本文内容，否则不要自动处理本文，也不要生成本文相关的代码。
* 本文的产出代码可以提供给其他相关模块引用。例如chat-area研究过程生成的HTML内容，可以作为chat-area模块生成HTML时候的参考。



## 研究工作

### 内容块（ChatArea）的页面内容研究

内容块的界面构成比较复杂，而且存在比较复杂的交互逻辑，因此需要用研究性质的工作，来实现一个基本可用的内容块框架，然后提供给chat-area模块参考。

本研究的目标是生成一个纯HTML+JS的页面，该页面包含一个完整的ChatArea相关的HTML和交互逻辑。输出文件存放在[../research/chat-area.html]()中。

页面内容描述请参考[./chat-area.md]()中“布局和交互逻辑说明”小节。忽略该文档的其他生成类的要求。


### 原生页面附加内容研究

原生页面的注入除了注入技术之外，还需要保证注入的页面元素能够正常工作。本研究实现对典型的AI聊天页面布局的主要注入元素的HTML和样式研究。

典型的AI聊天页面有一个靠左的边栏（包含会话历史清单、新建会话按钮），内容栏（包含标题、滚动的问答区和底部的提示词输入框和提交按钮）。

本研究的目标是生成一个纯HTML+JS的页面，该页面包含一个完整的原生页面相关的HTML和交互逻辑。输出文件存放在[../research/page-controller.html]()中。

* 同步按钮

主要目的是为了验证“同步按钮”的样式。同步按钮一般放在标题部分。

* 问答工具条

主要目的是为了验证问答工具条的样式。每个问题和答案在鼠标悬浮的时候出现工具条，包含展开/折叠开关按钮、复制按钮。折叠的时候保留一行字高，复制需要复制整个问题或回答内容。

* 索引工具条

主要目的是为了验证问答内容的索引工具条的样式，点击索引按钮为每个答案生成一个索引并支持跳转。索引为垂直窄条，前两个是展开和折叠全部回答的按钮，其后显示数字1、2、3、4的索引，每个数字对应回答的序号，点击跳到回答。索引永远固定悬浮，不随内容区的滚动变化。

### 主窗口页面内容研究

主窗口的布局比较复杂，需要提前把布局逻辑设计完善，本研究实现一个符合要求的主窗口页面HTML和交互代码。输出文件存放在[../research/main-window.html]()中。

主窗口的布局分为三个部分，从上到下分别为：

* 标题栏，分为左中右三个区域，水平划分如下：
  * 左区：从左到右包含产品图标、产品名称、多国语言切换。其中多国语言切换为地球形状，点击出现语言列表，选择之后界面语言切换到选定语言。
  * 中区：包含1、2、4、6布局切换按钮。
  * 右区：包含关闭窗口按钮。
* 内容块区域：根据布局排列内容块
* 提示词输入区：所有元素垂直居中，从左到右包含模型参数切换按钮、文本框和发送按钮。其中模型参数切换按钮是一个固定大小的齿轮，点击之后出现各种开关的选项，发送按钮也是固定大小，文本框填充剩余宽度，并且可以跟随文本内容而变高，在高于五分之一窗口或300px的时候就不再变高，而是出现滚动条。





